آشنایی با Docker Compose - بخش اول
===

Docker Compose (با نام قبلی Fig) ابزاری متن باز برای خودکارسازی کار با کانتینرها در داکر است که توسط تیم Orchard ایجاد شد و در سال ۲۰۱۴ شرکت داکر آن را خریداری کرد.
داکر کامپوز برای تعریف و اجرای کاربردهای چندکانتینره بکار می رود. برای استفاده از داکر کامپوز می توان نحوه راه اندازی مجموعه ای از کانتینرها (در کاربرد چندکانتینره) و مشخصات زمان اجرای آنها را در فایلی با پسوند YAML (کامپوزفایل)(به شکلی که در ادامه توضیح خواهیم داد) تعریف کرد و آنها را با استفاده از یک دستورایجاد و راه اندازی نمود. داکر کامپوز هر یک از این کانتیرها را یک سرویس می نامد. تعریف دقیق سرویس در ادامه آمده است:
>سرویس یک کانتینر است که به شکلی با کانتینرهای دیگر دیگر در تعامل است و مشخصات زمان اجرای خاصی دارد.

غالبا استفاده از داکر کامپوزیک فرآیند سه مرحله ای است: 

 >* تعریف محیط برنامه با داکر فایل (در نتیجه در هر جایی امکان بازتولید دارد).
 >* تعریف سرویسهای برنامه در کامپوز فایل (در نتیجه امکان اجرای آنها در یک محیط ایزوله در کنار یکدیگر وجود دارد).
 >* اجرای دستور docker-compose up (در نتیجه کامپوز برنامه شما را با همه سرویسهایش اجرا می کند).

در شکل زیر نمونه ای از یک کامپوزفایل نمایش داده شده است:
 ```
version: '2'
services:
  web:
    build: .
    ports:
    - "5000:5000"
    volumes:
    - .:/code
    - logvolume01:/var/log
    links:
    - redis
  redis:
    image: redis
volumes:
  logvolume01: {}
``` 
توضیحات کامل در خصوص کامپوز فایل در بخشهای بعدی مقاله داده می شود.

داکر کامپوز دستوراتی برای مدیریت چرخه عمر برنامه کاربردیتان دارد که شامل موارد زیر است:
>* اجرا، توقف و بازتولید سرویسها
>* مشاهده وضعیت سرویسهای در حال اجرا
>* مشاهده خروجی لاگ سرویسهای در حال اجرا

در این مقاله و بخشهای بعدی آن قصد داریم نحوه نصب داکر کامپوز و استفاده از آن را برای ایجاد و راه اندازی یک کاربرد چندکانتینره ساده توضیح دهیم.

نحوه نصب داکر کامپوز
---
امکان نصب داکر کامپوز بر روی سیستم عاملهای لینوکس، ویندوز و مک وجود دارد. نصب داکر کامپوز از سه طریق نصب مستقیم فایل باینری، نصب از طریق داکر در ویندوز و مک و یا نصب از طریق بسته نرم افزاری Python Pip امکان پذیر است.

نصب در لینوکس
---
برای نصب داکر کامپوز در لینوکس باید فایل باینری آن را از گیت هاب دانلود کرده و به یک فایل اجرایی تبدیل کنید. در زیر نحوه انجام این کار با استفاده از دستور curl نمایش داده شده است. توجه کنید که داکر کامپوز تنها بر روی نسخه های ۶۴ بیتی لینوکس قابل اجراست.
```
$ sudo curl -L https://github.com/docker/compose/releases/
download/1.8.0/docker-compose-`uname -s`-`uname -m` > /usr/
local/bin/docker-compose
$ sudo chmod +x /usr/local/bin/docker-compose
```
نصب در مک
---
نصب داکر کامپوز در مک از طریق بسته داکر برای مک یا با استفاده از دستور curl به شکل زیر امکان پذیر است:
```
$ sudo bash -c "curl -L https://github.com/docker/compose/
releases/download/1.8.0/docker-compose-Darwin-x86_64 > /usr/
local/bin/docker-compose"
$ sudo chmod +x /usr/local/bin/docker-compose
```
نصب در ویندوز
---
داکر کامپوز در ویندوز به همراه بسته داکر برای ویندوز آمده است.
نصب از طریق بسته نرم افزاری Python Pip
---
اگر بر روی سیستم عامل دیگری قصد نصب داکر کامپوز را دارید یا ترجیح می دهید نصب را با استفاده از بسته نرم افزاری انجام دهید می توانید از Python Pip استفاده کنید. برای اینکار باید ابتدا Python Pip را نصب کنید، سپس با استفاده از دستور زیر داکر کامپوز را نصب کنید:
 ```
$ sudo pip install -U docker-compose


